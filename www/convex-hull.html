


<!DOCTYPE html>
<html lang="en" data-bs-theme="dark">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />

  <!-- Title and Description -->
  <title>ImageMagick | Convex Hull</title>
  <meta name="description" content="ImageMagick is a powerful open-source software suite for creating, editing, converting, and manipulating images in over 200 formats. Ideal for developers, designers, and researchers." />

  <!-- Canonical URL -->
  <link rel="canonical" href="convex-hull.html" />

  <!-- Robots -->
  <meta name="robots" content="index, follow" />

  <!-- Theme Color -->
  <meta name="theme-color" content="#000000" />

  <!-- Verification Tags -->
  <meta name="google-site-verification" content="_bMOCDpkx9ZAzBwb2kF3PRHbfUUdFj2uO8Jd1AXArz4" />

  <!-- Favicon and Apple Icon -->
  <link rel="shortcut icon" href="../images/wand.png" type="images/png" />
  <link rel="apple-touch-icon" href="../images/wand.png" type="images/png" />

  <!-- Preconnect for External Resources -->
  <link rel="preconnect" href="../index.html" />

  <!-- Stylesheets -->
  <link rel="preload" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" as="style" crossorigin="anonymous" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" />

  <!-- Accessibility Enhancement -->
  <style>
    html {
      scroll-padding-top: 70px;
    }
    a.nav-link:hover,
    a.dropdown-item:hover {
      color: #ffc107 !important;
      text-shadow: 0px 2px 4px rgba(255, 193, 7, 0.8);
    }
    .btn-outline-warning {
      color: #cd7f32;
      border-color: #cd7f32;
    }
    .navbar-brand {
      color: #d4af37;
      transition: color 0.3s ease, text-shadow 0.3s ease;
    }
    .navbar-brand:hover {
      color: #e9c03d;
      text-shadow: 0px 2px 4px rgba(203, 163, 120, 0.6);
    }
  </style>

  <!-- Open Graph Meta Tags -->
  <meta property="og:title" content="ImageMagick | Convex Hull" />
  <meta property="og:description" content="ImageMagick is a powerful open-source software suite for creating, editing, converting, and manipulating images in over 200 formats. Ideal for developers, designers, and researchers." />
  <meta property="og:image" content="../images/logo.png" />
  <meta property="og:logo" content="../images/logo.png" />
  <meta property="og:url" content="../www/convex-hull.html" />
  <meta property="og:type" content="website" />
  <meta property="og:site_name" content="ImageMagick" />
  <meta property="og:locale" content="en_us" />

  <!-- Twitter Card Meta Tags -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:site" content="@imagemagick" />
  <meta name="twitter:creator" content="@imagemagick" />
  <meta name="twitter:title" content="ImageMagick | Convex Hull" />
  <meta name="twitter:description" content="ImageMagick is a powerful open-source software suite for creating, editing, converting, and manipulating images in over 200 formats. Ideal for developers, designers, and researchers." />
  <meta name="twitter:image" content="../images/logo.png" />
  <meta name="twitter:image:alt" content="ImageMagick logo and tag line" />

  <!-- JSON-LD Structured Data -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "SoftwareApplication",
    "name": "ImageMagick",
    "url": "../www/convex-hull.html",
    "image": "../images/logo.png",
    "description": "ImageMagick is a powerful open-source software suite for creating, editing, converting, and manipulating images in over 200 formats. Ideal for developers, designers, and researchers.",
    "applicationCategory": "Multimedia",
    "operatingSystem": "Windows, macOS, Linux, Unix",
    "softwareVersion": "7.1.2-3",
    "license": "../www/license.html",
    "creator": {
      "@type": "Organization",
      "name": "ImageMagick Studio LLC",
      "url": "https://imagemagick.org"
    },
    "keywords": [
      "Convex Hull",
      "image processing software",
      "image conversion tool",
      "batch image editing",
      "open-source image editor",
      "ImageMagick command-line",
      "resize images ImageMagick",
      "crop and rotate images",
      "ImageMagick tutorial",
      "ImageMagick automation",
      "ImageMagick for developers",
      "ImageMagick CLI",
      "ImageMagick filters and effects",
      "ImageMagick scripting",
      "ImageMagick API integration"
    ],
    "sameAs": [
      "https://github.com/ImageMagick",
      "https://x.com/imagemagick"
    ],
    "offers": {
      "@type": "Offer",
      "price": "0.00",
      "priceCurrency": "USD"
    }
  }
  </script>
  <!-- Google Custom Search -->
  <script defer src="https://localhost/cse.js?cx=006134137889097767902:turn9fku95u"></script>
</head>
<body>
  <script>
    function setTheme(theme) {
      localStorage.setItem('theme', theme);
      updateThemeIcon(theme);
      document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? getSystemTheme() : theme);
    }
    function getSystemTheme() {
      return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
    }
    function updateThemeIcon(theme) {
      const iconMap = {
        light: '‚òÄÔ∏è',
        dark: 'üåô',
        auto: 'üåì'
      };
      document.getElementById('currentThemeIcon').textContent = iconMap[theme] || 'üåì';
    }
    document.addEventListener('DOMContentLoaded', () => {
      const savedTheme = localStorage.getItem('theme') || 'auto';
      setTheme(savedTheme);
    });
  </script>
  <nav class="navbar navbar-expand-md navbar-dark bg-dark fixed-top">
  <div class="container-fluid">
    <a class="navbar-brand fw-bold" href="../index.html" title="$meta->sitename;">
      ImageMagick    </a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#magick-navbars" aria-controls="magick-navbars" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="magick-navbars">
      <ul class="navbar-nav me-auto">
        <li class="nav-item">
          <a class="nav-link " href="download.html">Download</a>
        </li>
        <li class="nav-item">
          <a class="nav-link " href="command-line-tools.html">Tools</a>
        </li>
        <li class="nav-item">
          <a class="nav-link " href="command-line-processing.html">CLI</a>
        </li>
        <li class="nav-item">
          <a class="nav-link " href="develop.html">Develop</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" rel="noopener noreferrer" target="_blank" href="https://github.com/ImageMagick/ImageMagick/discussions">Community</a>
        </li>
        <li class="nav-item ms-4">
          <iframe src="https://github.com/sponsors/ImageMagick/button" title="Sponsor ImageMagick" height="35" width="107" style="border: 0;"></iframe>
        </li>
      </ul>
      <ul class="navbar-nav ms-auto">
        <li class="nav-item ms-3">
          <form class="d-flex form-inline" action="../www/search.html">
            <input class="form-control me-2" type="text" name="q" placeholder="Search site..." aria-label="Search">
            <button class="btn btn-outline-warning" type="submit" name="sa">Search</button>
          </form>
        </li>
        <li class="nav-item dropdown ms-3">
          <a class="nav-link dropdown-toggle" href="#" id="themeDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            <span id="currentThemeIcon">üåì</span>
          </a>
          <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="themeDropdown">
            <li><a class="dropdown-item" href="#" onclick="setTheme('light')">‚òÄÔ∏è Light</a></li>
            <li><a class="dropdown-item" href="#" onclick="setTheme('dark')">üåô Dark</a></li>
            <li><a class="dropdown-item" href="#" onclick="setTheme('auto')">üåì Auto</a></li>
          </ul>
        </li>
      </ul>
    </div>
  </div>
  </nav>

<div class="col-lg-8 mx-auto text-body-secondary pt-5 pt-lg-5">
  <header class="d-flex align-items-center pb-3 mb-5 border-bottom">
    <div class="mt-3 ms-3">
      <a href="../index.html" class="text-decoration-none">
        <h1 class="fs-2 mb-1">Convex Hull</h1>
      </a>
      <h2 class="fs-5 text-muted">ImageMagick</h2>
    </div>
  </header>

  <main role="main" class="container">
<div>
<p class="text-center"><a href="#about">Convex Hull</a> ‚Ä¢ <a href="#box">Minimum Bounding Box</a> ‚Ä¢ <a href="#unrotate">Unrotate an Image</a></p>

<p>The convex hull is the is the smallest area convex polygon containing the set of points inside it. The convex hull may be visualized as the shape enclosed by a rubber band stretched around the set of points.</p>

<p>The convex-hull string format returns a list of x,y coordinates of the vertices of the convex-hull polygon containing all the non-black pixels within it.</p>

<pre class="code">
magick [-fuzz <var>value</var>%] [-background <var>background-color</var>] -format "%[convex-hull]" info:
</pre>

<p>Use <samp>%[convex-hull:extreme-points]</samp> to only return the top, right, bottom, and left extreme points.</p>

<p>where the string format is sensitive to an optional <samp>-fuzz</samp> value and to an optional background color specified by the define. The command above will find the background color automatically according to the fuzz value unless the background color is defined. The fuzz value defaults to 0 when not specified.</p>

<p>For example, consider the following white rectangle on a black background:</p>

<ul><img class="img-fluid img-thumbnail" src="../images/convex-hull.png" alt="[Convex Hull]" width="250" height="250" name="convert-hull" /></ul>

<p>The convex hull set of points may be computed as:</p>

<pre class="code">magick rect.png -format "%[convex-hull]" info:
190,121 193,122 281,154 377,189 378,190 377,193 345,281 310,377 309,378 306,377 218,345 122,310 121,309 122,306 154,218 189,122 190,121
</pre>

<p>The convex hull may also be drawn as a polygon (filled or unfilled) using <samp>-draw</samp> as follows:</p>

<pre class="code">magick rect.png -set option:hull "%[convex-hull]" -fill none -stroke red -strokewidth 1 -draw "polygon %[hull]" blocks_hull.png</pre>

<p>Here is an example using a non-convex shaped image on a black background:</p>

<ul><img class="img-fluid img-thumbnail" src="../images/convex-hull-blocks.png" alt="[Convex Hull Blocks]" width="128" height="128" name="convert-hull-blocks" /></ul>

<pre class="code">magick blocks_black.png -set option:hull "%[convex-hull]" -fill none -stroke red -strokewidth 1 -draw "polygon %[hull]" blocks_hull.png</pre>

<ul><img class="img-fluid img-thumbnail" src="../images/convex-hull-blocks-closure.png" alt="[Convex Hull Blocks Closure]" width="128" height="128" name="convert-hull" /></ul>

<p>Finally, here is an example with a non-constant, non-black background using -fuzz to determine the background color:</p>

<ul><img class="img-fluid img-thumbnail" src="../images/convex-hull-barn.jpg" alt="[Convex Hull Barn]" width="250" height="250" name="convert-hull-barn" /></ul>

<p>Now let's highlight the convex hull of the image foreground object:</p>
<pre class="code">magick barn_rot20.png -fuzz 10% -set hull "%[convex-hull]" -fill none -stroke red -strokewidth 1 -draw "polygon %[hull]" barn_rot20_hull.png</pre>

<ul><img class="img-fluid img-thumbnail" src="../images/convex-hull-barn-closure.jpg" alt="[Convex Hull Barn Closure]" width="250" height="250" name="convert-hull-barn-closure" /></ul>

<h2><a class="anchor" id="box"></a>Minimum Bounding Box</h2>
<p>Similar to the convex hull of the image foreground object(s), is the minimum bounding box.  Use <samp>%[minimum-bounding-box]</samp> to return the points that make up the bounding box.  In addition, these properties are set: <samp>minimum-bounding-box:area</samp>, <samp>minimum-bounding-box:width</samp>, <samp>minimum-bounding-box:height</samp>, and <samp>minimum-bounding-box:angle</samp>. 

<pre class="code">magick barn_rot20.png -fuzz 10% -background gray25 -set MBR "%[minimum-bounding-box]" -fill none -stroke red -strokewidth 1 -draw "polygon %[MBR]" barn-mbr.png</pre>

<h2><a class="anchor" id="unrotate"></a>Unrotate an Image</h2>
<p>Use <samp>%[minimum-bounding-box:unrotate]</samp> to correct for any rotation the image may exhibit.  Unless you specify the image orientation, the unrotate angle should properly align the image to the correct coordinate axis for angles &lt;= 45.  For angles > 45, the image will align with the wrong coordinate axis.  Set the correct image orientation to ensure the proper unrotate angle is returned. Use <samp>-define minimum-bounding-box:orientation=<em>{landscape,portrait}</em></samp> to set the image orientation. Note, that like convex-hull, the string format is sensitive to an optional <a href="command-line-options.html#fuzz">-fuzz</a> value and an optional <a href="command-line-options.html#background">-background</a> color.</p>

<p>The barn image above is rotated by 20 degrees.  Here is how we can automatically correct for the rotation and return it to its original landscape orientation:

<pre class="code">magick barn_rotate20.jpg -fuzz 15% -set option:angle "%[minimum-bounding-box:unrotate]" -background gray -rotate "%[angle]" -trim barn_unrotate.jpg</pre>
</p>

</div>
    <a aria-label="About ImageMagick" class="btn btn-outline-warning mt-3" href="../index.html">About ImageMagick</a>
  </main><!-- /.container -->
  <footer class="text-center pt-5 my-5 text-body-secondary border-top">
    <div class="container-fluid">
      <a href="security-policy.html">Security</a> ‚Ä¢
      <a href="../www/news.html">News</a>
     
      <a href="#"><img class="d-inline" id="wand" alt="And Now a Touch of Magick" width="16" height="16" src="../images/wand.ico" /></a>
     
      <a href="../www/links.html">Related</a> ‚Ä¢
      <a href="../www/sitemap.html">Sitemap</a>
   <br>
     <a href="../www/support.html">Sponsor</a> ‚Ä¢
     <a href="../www/cite.html">Cite</a> ‚Ä¢
     <a href="http://pgp.mit.edu/pks/lookup?op=get&amp;search=0x89AB63D48277377A">Public Key</a> ‚Ä¢
     <a href="../www/https://imagemagick.org/script/contact.php">Contact Us</a>
   <br>
     <a href="https://github.com/imagemagick/imagemagick" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="navbar-nav-svg" viewBox="0 0 512 499.36" width="2%" height="2%" role="img" focusable="false"><title>GitHub</title><path fill="currentColor" fill-rule="evenodd" d="M256 0C114.64 0 0 114.61 0 256c0 113.09 73.34 209 175.08 242.9 12.8 2.35 17.47-5.56 17.47-12.34 0-6.08-.22-22.18-.35-43.54-71.2 15.49-86.2-34.34-86.2-34.34-11.64-29.57-28.42-37.45-28.42-37.45-23.27-15.84 1.73-15.55 1.73-15.55 25.69 1.81 39.21 26.38 39.21 26.38 22.84 39.12 59.92 27.82 74.5 21.27 2.33-16.54 8.94-27.82 16.25-34.22-56.84-6.43-116.6-28.43-116.6-126.49 0-27.95 10-50.8 26.35-68.69-2.63-6.48-11.42-32.5 2.51-67.75 0 0 21.49-6.88 70.4 26.24a242.65 242.65 0 0 1 128.18 0c48.87-33.13 70.33-26.24 70.33-26.24 14 35.25 5.18 61.27 2.55 67.75 16.41 17.9 26.31 40.75 26.31 68.69 0 98.35-59.85 120-116.88 126.32 9.19 7.9 17.38 23.53 17.38 47.41 0 34.22-.31 61.83-.31 70.23 0 6.85 4.61 14.81 17.6 12.31C438.72 464.97 512 369.08 512 256.02 512 114.62 397.37 0 256 0z"/></svg></a> ‚Ä¢
     <a href="https://twitter.com/imagemagick" rel="noopener noreferrer" target="_blank" aria-label="Twitter"><svg xmlns="http://www.w3.org/2000/svg" class="navbar-nav-svg" viewBox="0 0 300 300" width="2%" height="2%" role="img" focusable="false"><title>Twitter</title><path d="M178.57 127.15 290.27 0h-26.46l-97.03 110.38L89.34 0H0l117.13 166.93L0 300.25h26.46l102.4-116.59 81.8 116.59h89.34M36.01 19.54H76.66l187.13 262.13h-40.66"/></svg></a>
    <br>
    <small>Copyright ¬© 1999 ImageMagick Studio LLC</small>
    </div>
  </footer>
</div>

  <!-- Javascript assets -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>
~                                                         
  </body>
</html>
<!-- Magick Cache 3rd October 2025 21:22 -->